% !TEX program = lualatex

\documentclass[acmsmall,dvipsnames,10pt]{acmart}\settopmatter{printfolios=true}
% Need to tweak for camera-ready submission
% \documentclass[acmsmall,dvipsnames,10pt]{acmart}\settopmatter{printfolios=true}


%%% The following is specific to POPL '25 and the paper
%%% 'Grove: A Bidirectionally Typed Collaborative Structure Editor Calculus'
%%% by Michael D. Adams, Eric Griffis, Thomas J. Porter, Sundara Vishnu Satish, Eric Zhao, and Cyrus Omar.
%%%
\setcopyright{rightsretained}
\acmDOI{10.1145/3704909}
\acmYear{2025}
\acmJournal{PACMPL}
\acmVolume{9}
\acmNumber{POPL}
\acmArticle{73}
\acmMonth{1}
\received{2024-07-11}
\received[accepted]{2024-11-07}

\bibliographystyle{ACM-Reference-Format}
%\citestyle{acmauthoryear}
\citestyle{acmnumeric}

%%% Spacing hacks
\usepackage{titlesec}
\titlespacing*{\section} {0pt}{6pt}{2pt}
% \titlespacing*{\subsection} {0pt}{6pt}{2pt}
\titlespacing*{\subsubsection}{0pt}{6pt}{10pt}
\titlespacing*{\paragraph} {0pt}{4pt}{10pt}
% \titlespacing*{\subparagraph} {12pt}{5pt}{10pt}

\usepackage{enumitem}
\usepackage{listings}%
\lstloadlanguages{ML}
\lstset{tabsize=2, 
basicstyle=\small\ttfamily, 
% keywordstyle=\sffamily,
commentstyle=\itshape\ttfamily\color{gray}, 
stringstyle=\ttfamily\color{purple},
mathescape=false,escapechar=\#,
numbers=none, numberstyle=\scriptsize\color{gray}\ttfamily, language=ML, showspaces=false,showstringspaces=false,xleftmargin=15pt, 
morekeywords={string, float, int},
classoffset=0,belowskip=\smallskipamount, aboveskip=\smallskipamount
}
\let\li\lstinline
\usepackage{todonotes}


% TODO: consolidate all the macros into here
\input{config/macros}

\input{config/config-tex}
\input{config/config-tikz}
\input{config/config-glyphs}
\input{config/config-definitions}
\input{config/config-graphs}


% figures
\input{figures/figure-simple}
\input{figures/figure-wrap-move}
\input{figures/figure-different-parts-nested-parts}
\input{figures/figure-multi-child}
\input{figures/figure-multi-parent}
\input{figures/figure-cycle}
\input{figures/figure-disconnect}
\input{figures/figure-decomposition}
\input{figures/figure-term-syntax}
\input{figures/figure-arity}
\input{figures/figure-decomposition-def}
\input{figures/figure-user-actions}
\input{figures/figure-user-action-transitions}


% marking
\input{symbols}

\begin{document}

\title{Grove: A Bidirectionally Typed Collaborative Structure Editor Calculus}

\author{Michael D. Adams}
\orcid{0000-0003-3160-6972}
\affiliation{%
  \institution{National University of Singapore}
  \city{Singapore}
  \country{Singapore}
}
\email{adamsmd@nus.edu.sg}

\author{Eric Griffis}
\orcid{0000-0003-1693-6172}
\affiliation{%
  \institution{University of Michigan}
  \city{Ann Arbor}
  \country{USA}
}
\email{egriffis@umich.edu}

\author{Thomas J. Porter}
\orcid{0009-0000-1809-8382}
\affiliation{%
  \institution{University of Michigan}
  \city{Ann Arbor}
  \country{USA}
}
\email{thomasjp@umich.edu}

\author{Sundara Vishnu Satish}
\orcid{0009-0002-8685-1342}
\affiliation{%
  \institution{University of Michigan}
  \city{Ann Arbor}
  \country{USA}
}
\email{svishnus@umich.edu}

\author{Eric Zhao}
\orcid{0009-0000-4969-2376}
\affiliation{%
  \institution{University of Michigan}
  \city{Ann Arbor}
  \country{USA}
}
\email{zzhaoe@umich.edu}

\author{Cyrus Omar}
\orcid{0000-0003-4502-7971}
\affiliation{%
  \institution{University of Michigan}
  \city{Ann Arbor}
  \country{USA}
}
\email{comar@umich.edu}


% Abstract
\input{abstract}


% 2012 ACM Computing Classification System (CSS) concepts
% Generate at 'http://dl.acm.org/ccs/ccs.cfm'.
\begin{CCSXML}
<ccs2012>
   <concept>
       <concept_id>10011007.10011006.10011008</concept_id>
       <concept_desc>Software and its engineering~General programming languages</concept_desc>
       <concept_significance>300</concept_significance>
       </concept>
   <concept>
       <concept_id>10011007.10011006.10011039.10011040</concept_id>
       <concept_desc>Software and its engineering~Syntax</concept_desc>
       <concept_significance>500</concept_significance>
       </concept>
   <concept>
       <concept_id>10011007.10011006.10011071</concept_id>
       <concept_desc>Software and its engineering~Software configuration management and version control systems</concept_desc>
       <concept_significance>500</concept_significance>
       </concept>
 </ccs2012>
\end{CCSXML}

\ccsdesc[300]{Software and its engineering~General programming languages}
\ccsdesc[500]{Software and its engineering~Syntax}
\ccsdesc[500]{Software and its engineering~Software configuration management and version control systems}
% End of generated code


%% Keywords
\keywords{version control systems, collaborative editing, CRDTs, gradual typing}  


\maketitle

\input{introduction}
\input{grove-by-example}
\input{formalism}
\input{implementation}
\input{marking-system}
\input{related-work}
\input{discussion-and-conclusion}


%% Acknowledgments
\begin{acks}                            %% acks environment is optional
  %% contents suppressed with 'anonymous'
  %% Commands \grantsponsor{<sponsorID>}{<name>}{<url>} and
  %% \grantnum[<url>]{<sponsorID>}{<number>} should be used to
  %% acknowledge financial support and will be used by metadata
  %% extraction tools.

  This work was partially funded by the
  \grantsponsor{GS100000001}{National Science
    Foundation}{http://dx.doi.org/10.13039/100000001} under Grant
  No.~\grantnum{GS100000001}{2238744}. Any opinions, findings, and
  conclusions or recommendations expressed in this material are those
  of the author and do not necessarily reflect the views of the
  National Science Foundation.
\end{acks}

%% Appendix
% \appendix

%% Appendixes that will be published  go **BEFORE** the bibliography and count towards the page count

%% Bibliography
\bibliography{grove-paper}

\end{document}